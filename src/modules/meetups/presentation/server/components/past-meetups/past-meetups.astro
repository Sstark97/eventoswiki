---
import { MeetupsLocator } from '@/meetups/di/meetups.locator'
import GradientTitle from '@/ui/components/gradient-title/gradient-title.astro'
import Link from '@/ui/components/link/link.astro'
import { Urls } from '@/ui/urls/urls'
import EventsGrid from '../meetups-grid/meetups-grid.astro'

interface Props {
  location?: string
}

const { location } = Astro.props
const { data: pastMeetups } = await MeetupsLocator.getPastMeetupsQuery().execute({ count: 3, location })
---

<section class="mt-12">
  <div class="flex items-center justify-between my-4">
    <GradientTitle>Ãšltimos meetups{location && ` en ${location}`}</GradientTitle>
    <slot name="actions">
      <Link href={Urls.PAST_MEETUPS} classes="text-right shrink-0">Ver todos</Link>
    </slot>
  </div>
  <EventsGrid meetups={pastMeetups} />
</section>
