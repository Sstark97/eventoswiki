---
import NextEvents from '@/events/presentation/server/components/next-events/next-events.astro'
import PastEvents from '@/events/presentation/server/components/past-events/past-events.astro'
import NextMeetups from '@/meetups/presentation/server/components/next-meetups/next-meetups.astro'
import PastMeetups from '@/meetups/presentation/server/components/past-meetups/past-meetups.astro'
import { ProvincesLocator } from '@/provinces/di/provinces.locator'
import Link from '@/ui/components/link/link.astro'
import { Urls } from '@/ui/urls/urls'
import Layout from '../../layouts/layout.astro'

const { province = '' } = Astro.params

const location = await ProvincesLocator.getProvinceQuery().execute({ id: province })
---

<Layout title={`eventos.wiki - Eventos en ${location.name}`} classes="flex flex-col w-full gap-2 lg:gap-8 pb-24">
  <NextEvents location={location.name}>
    <Link slot="actions" href={Urls.EVENTS_WITH_PROVINCE(province)} classes="text-right shrink-0">Ver todos</Link>
  </NextEvents>
  <NextMeetups location={location.name}>
    <Link slot="actions" href={Urls.MEETUPS_WITH_PROVINCE(province)} classes="text-right shrink-0">Ver todos</Link>
  </NextMeetups>
  <PastEvents location={location.name}>
    <Link slot="actions" href={Urls.PAST_EVENTS_WITH_PROVINCE(province)} classes="text-right shrink-0">Ver todos</Link>
  </PastEvents>
  <PastMeetups location={location.name}>
    <Link slot="actions" href={Urls.PAST_MEETUPS_WITH_PROVINCE(province)} classes="text-right shrink-0">Ver todos</Link>
  </PastMeetups>
</Layout>
